以下以50台手机为列子



用户发布的任务有4种类型


第一种，同关键字，同id

第二种，同关键字，不同id

第三种，不同关键字，同id

第四种，不同关键字，不同id



用户发布的任务有4种

第一种，无收藏，无购物车 

第二种，有收藏，有购物车

第三种，有收藏，无购物车

第四种，无收藏，有购物车




限制情况1 同关键字，同id  同一任务订单或者不同任务订单的条件情况下，限制如下：


第一种，当同关键字，同id,无收藏，无购物车：
1.当天（0点为第二天，第二天恢复）每台手机不得二次分配已做过的流量（例如50个任务，每台手机只能有分得一个流量，不能把流量都给同一台手机，例如1号机不能做两次同一个流量），因此单次或多次发布的总流量数不得超过手机数
2.分配的时候，优先选择任务存积最少的手机分配（例如我有3台手机，手机1已经被其他任务总共分配了3个流量，手机2已经分配了2个流量,手机3已经有1个流量，那优选把流量分配给手机3），让每台手机尽量无须等待
3.时间轴可控制流量每个小时分发多少给手机
4.当任务终止，每台手机存积的任务也将会被彻底清除


第二种，当同关键字，同id,有收藏，有购物车
1.当天（0点为第二天，第二天恢复）每台手机不得二次分配已做过的流量（例如50个任务，每台手机只能有分得一个流量，不能把流量都给同一台手机，例如1号机不能做两次同一个流量），因此单次或多次发布的总流量数不得超过手机数，
2.当天（0点为第二天，第二天恢复）每台手机不得二次分配已做过的收藏（例如50个任务，每台手机只能有分得一个收藏，不能把收藏都给同一台手机，例如1号机不能做两次同一个id的收藏），单次或多次发布的总收藏数不得超过手机数，
3.当天（0点为第二天，第二天恢复）每台手机不得二次分配已做过的购物车（例如50个任务，每台手机只能有分得一个购物车，不能把购物车都给同一台手机，例如1号机不能做两次同一个id的购物车），单次或多次发布的总购物车数不得超过手机数
4.分配的时候，优先选择任务存积最少的手机分配（例如我有3台手机，手机1已经被其他任务总共分配了3个流量，手机2已经分配了2个流量,手机3已经有1个流量，那优选把流量分配给手机3），让每台手机尽量无须等待
5.每个流量随机捆绑用户填写收藏和购物车数，并且（例如50流量，30收藏，20购物车，其中，购物车数量最少的，50>30>20,20最少，因此必须把其中的20流量，20收藏，20购物车捆绑在一起让手机在一个流量中做掉，意思就是能捆绑的必须捆绑，捆绑目的是减少手机负担，增加效率）， 因此多次发布的总购物车数+总收藏数少于或者等于单次或者多次发布的总流量数
6.时间轴可控制流量每个小时分分配
7.当任务终止，每台手机存积的任务也将会被彻底清除


第三种：当同关键字，同id,有收藏，无购物车
第三种同第二种相同，区别是捆绑的时候无购物车


第四种：同关键字，同id，无收藏，有购物车
第四种同第二种相同，区别是捆绑的时候无收藏





限制情况2 不同关键字，同id，不同任务订单中，的条件情况下，限制如下：

第一种，不同关键字，同id,无收藏，无购物车：

1.当天（0点为第二天，第二天恢复）每台手机可以二次分配已做过该id的,不同任务订单的流量（例如：A订单发布了id123的流量一个，B订单发布了id123的流量一个，AB订单的关键字不一样，这两个流量均可分配给1号手机）
2.分配的时候，优先选择任务存积最少的手机分配（例如我有3台手机，手机1已经被其他任务总共分配了3个流量，手机2已经分配了2个流量,手机3已经有1个流量，那优选把流量分配给手机3），让每台手机尽量无须等待
3.时间轴可控制流量每个小时分发多少给手机
4.当任务终止，每台手机存积的任务也将会被彻底清除


第二种，不同关键字，同id,有收藏，有购物车，
1.当天（0点为第二天，第二天恢复）每台手机可以二次分配已做过该id的,不同任务订单的流量（例如：A订单发布了id123的流量一个，B订单发布了id123的流量一个，AB订单的关键字不一样，这两个流量均可分配给1号手机）
2.当天（0点为第二天，第二天恢复）每台手机不得二次分配已做过的收藏（例如50个任务，每台手机只能有分得一个收藏，不能把收藏都给同一台手机，例如1号机不能做两次同一个id的收藏），多次发布的总收藏数不得超过手机数，优先于1
3.当天（0点为第二天，第二天恢复）每台手机不得二次分配已做过的购物车（例如50个任务，每台手机只能有分得一个购物车，不能把购物车都给同一台手机，例如1号机不能做两次同一个id的购物车），多次发布的总购物车数不得超过手机数，优先于1
4.分配的时候，优先选择任务存积最少的手机分配（例如我有3台手机，手机1已经被其他任务总共分配了3个流量，手机2已经分配了2个流量,手机3已经有1个流量，那优选把流量分配给手机3），让每台手机尽量无须等待
5.不同订单，不同关键字，同id的收藏购物车由于发布时间不一样，无法捆绑
6.时间轴可控制流量每个小时分分配
7.当任务终止，每台手机存积的任务也将会被彻底清除


第三种：不同关键字，同id,有收藏，无购物车
第三种同第二种相同


第四种：不同关键字，同id，无收藏，有购物车
第四种同第二种相同


问题


